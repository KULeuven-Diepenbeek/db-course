<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.70.0" />
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>Labo 6: C&#43;&#43; Class Inheritance, operators en templates :: Software Ontwerp in C(&#43;&#43;)</title>

    
    <link href="../../css/nucleus.css?1602585869" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1602585869" rel="stylesheet">
    <link href="../../css/hybrid.css?1602585869" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1602585869" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1602585869" rel="stylesheet">
    <link href="../../css/auto-complete.css?1602585869" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1602585869" rel="stylesheet">
    <link href="../../css/theme.css?1602585869" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1602585869" rel="stylesheet">
    
    <link href="../../css/theme-kul.css?1602585869" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1602585869"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
      <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

<script>
window.MathJax = {
  chtml: {
    scale: 2,                      
    minScale: .5,                  
    matchFontHeight: true,         
    mtextInheritFont: false,       
    merrorInheritFont: true,       
    mathmlSpacing: false,          
    skipAttributes: {},            
    exFactor: .5,                  
    displayAlign: 'center',        
    displayIndent: '0'             
  }
};
</script>

<script src=../../js/osc.js></script>
  </head>
  <body class="" data-url="/cpp/labo-6/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
	<img src="../../img/style/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
	<img src="../../img/style/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1602585869"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1602585869"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/cpp-course\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1602585869"></script>

    
  </div>

    <div class="highlightable">
    <h3><a href="../../">Inhoudsopgave</a></h3>
    <ul class="topics">
        
          
          




 
  
    
    <li data-nav-id="/hoorcolleges/" title="Hoorcolleges" class="dd-item 
        
        
        
        ">
      <a href="../../hoorcolleges/">
          Hoorcolleges
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/hoorcolleges/slides-1/" title="1. Introductie in C/C&#43;&#43;: context, ecosysteem" class="dd-item ">
        <a href="../../hoorcolleges/slides-1/">
        1. Introductie in C/C&#43;&#43;: context, ecosysteem
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/hoorcolleges/slides-2/" title="2. Pointers in C, dynamisch geheugen in C&#43;&#43;" class="dd-item ">
        <a href="../../hoorcolleges/slides-2/">
        2. Pointers in C, dynamisch geheugen in C&#43;&#43;
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/hoorcolleges/slides-3/" title="3. Introductie in Object-Georiënteerd denken in C&#43;&#43;" class="dd-item ">
        <a href="../../hoorcolleges/slides-3/">
        3. Introductie in Object-Georiënteerd denken in C&#43;&#43;
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/hoorcolleges/slides-4/" title="4. Een introductie in GUI ontwerp met Qt, Samenvatting, examen info" class="dd-item ">
        <a href="../../hoorcolleges/slides-4/">
        4. Een introductie in GUI ontwerp met Qt, Samenvatting, examen info
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/c/" title="1. Introductie in C" class="dd-item 
        
        
        
        ">
      <a href="../../c/">
          1. Introductie in C
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/c/prep/" title="Voorbereiding Thuis" class="dd-item ">
        <a href="../../c/prep/">
        Voorbereiding Thuis
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/c/labo-1/" title="Labo 1: Introductie in C" class="dd-item ">
        <a href="../../c/labo-1/">
        Labo 1: Introductie in C
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/c/labo-2/" title="Labo 2: Pointers in C en C&#43;&#43;" class="dd-item ">
        <a href="../../c/labo-2/">
        Labo 2: Pointers in C en C&#43;&#43;
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/c/stack-vs-heap/" title="Labo 2b: De stack VS de heap" class="dd-item ">
        <a href="../../c/stack-vs-heap/">
        Labo 2b: De stack VS de heap
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/gba-in-c/" title="2. GBA programming in C" class="dd-item 
        
        
        
        ">
      <a href="../../gba-in-c/">
          2. GBA programming in C
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/gba-in-c/prep/" title="Voorbereiding Thuis" class="dd-item ">
        <a href="../../gba-in-c/prep/">
        Voorbereiding Thuis
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gba-in-c/labo-3/" title="Labo 3: Introductie in GBA Programming" class="dd-item ">
        <a href="../../gba-in-c/labo-3/">
        Labo 3: Introductie in GBA Programming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gba-in-c/labo-4/" title="Labo 4: GBA Tilesets, een simpel spel" class="dd-item ">
        <a href="../../gba-in-c/labo-4/">
        Labo 4: GBA Tilesets, een simpel spel
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/cpp/" title="3. Introductie in C&#43;&#43;" class="dd-item 
        parent
        
        
        ">
      <a href="../../cpp/">
          3. Introductie in C&#43;&#43;
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/cpp/prep/" title="Voorbereiding Thuis" class="dd-item ">
        <a href="../../cpp/prep/">
        Voorbereiding Thuis
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/cpp/labo-5/" title="Labo 5: Weg met C, Hallo C&#43;&#43;" class="dd-item ">
        <a href="../../cpp/labo-5/">
        Labo 5: Weg met C, Hallo C&#43;&#43;
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/cpp/labo-6/" title="Labo 6: C&#43;&#43; Class Inheritance, operators en templates" class="dd-item active">
        <a href="../../cpp/labo-6/">
        Labo 6: C&#43;&#43; Class Inheritance, operators en templates
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/cpp/labo-7/" title="Labo 7: Software ontwerpen" class="dd-item ">
        <a href="../../cpp/labo-7/">
        Labo 7: Software ontwerpen
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/gba-in-cpp/" title="4. GBA Programming in C&#43;&#43;" class="dd-item 
        
        
        
        ">
      <a href="../../gba-in-cpp/">
          4. GBA Programming in C&#43;&#43;
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/gba-in-cpp/prep/" title="Voorbereiding Thuis" class="dd-item ">
        <a href="../../gba-in-cpp/prep/">
        Voorbereiding Thuis
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gba-in-cpp/labo-8/" title="Labo 8: GBA Programming in C&#43;&#43;: een abstractielaag" class="dd-item ">
        <a href="../../gba-in-cpp/labo-8/">
        Labo 8: GBA Programming in C&#43;&#43;: een abstractielaag
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gba-in-cpp/labo-9/" title="Labo 9: GBA Programming in C&#43;&#43;: scrolling backgrounds" class="dd-item ">
        <a href="../../gba-in-cpp/labo-9/">
        Labo 9: GBA Programming in C&#43;&#43;: scrolling backgrounds
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gba-in-cpp/labo-10/" title="Labo 10: Een introductie in GUI ontwerp met C&#43;&#43; in Qt" class="dd-item ">
        <a href="../../gba-in-cpp/labo-10/">
        Labo 10: Een introductie in GUI ontwerp met C&#43;&#43; in Qt
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gba-in-cpp/labo-11/" title="Labo 11: een GBA spel porten naar Qt" class="dd-item ">
        <a href="../../gba-in-cpp/labo-11/">
        Labo 11: een GBA spel porten naar Qt
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/extra/" title="5. Extras" class="dd-item 
        
        
        
        ">
      <a href="../../extra/">
          5. Extras
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/extra/project/" title="Project opdracht" class="dd-item ">
        <a href="../../extra/project/">
        Project opdracht
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/cheatsheet/" title="C Cheat Sheet" class="dd-item ">
        <a href="../../extra/cheatsheet/">
        C Cheat Sheet
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/buildsystems/" title="Een introductie in C(&#43;&#43;) Build Systemen" class="dd-item ">
        <a href="../../extra/buildsystems/">
        Een introductie in C(&#43;&#43;) Build Systemen
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/faq/" title="FAQ" class="dd-item ">
        <a href="../../extra/faq/">
        FAQ
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/installaties/" title="Installatieinstructies" class="dd-item ">
        <a href="../../extra/installaties/">
        Installatieinstructies
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/poll/" title="Poll: Ben ik klaar voor mijn examen?" class="dd-item ">
        <a href="../../extra/poll/">
        Poll: Ben ik klaar voor mijn examen?
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://www.uhasselt.be/studiegids"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://toledo.kuleuven.be/portal/"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Software ontwerp in C/C++</a> > <a href='../../cpp/'>3. Introductie in C++</a> > Labo 6: C++ Class Inheritance, operators en templates
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#c-classes-revisited">C++ Classes revisited</a>
<ul>
<li><a href="#extra-flexibiliteit">Extra Flexibiliteit</a>
<ul>
<li><a href="#extra-ongewenste-flexibiliteit-static-vs-dynamic-binding">Extra (ongewenste) flexibiliteit: static VS dynamic binding</a></li>
<li><a href="#upcasten-en-downcasten">Upcasten en downcasten</a></li>
</ul></li>
</ul></li>
<li><a href="#operatoren-en-klassen-mixen">Operatoren en klassen mixen</a>
<ul>
<li><a href="#conversion-operators">Conversion operators</a></li>
</ul></li>
<li><a href="#templating-generics">Templating: &ldquo;generics&rdquo;</a>
<ul>
<li>
<ul>
<li><a href="#hercompilatie-van-templates">Hercompilatie van templates</a></li>
<li><a href="#herdeclaratie-van-templates">Herdeclaratie van templates</a></li>
<li><a href="#type-en-non-type-arguments">Type en non-type arguments</a></li>
<li><a href="#herhaling-vermijden-met-typedef">Herhaling vermijden met typedef</a></li>
<li><a href="#template-default-arguments">Template default arguments</a></li>
<li><a href="#template-variable-arguments-packs">Template variable arguments: packs</a></li>
</ul></li>
</ul></li>
<li><a href="#a-name-oef-a-labo-oefeningen"><a name="oef"></a>Labo oefeningen</a></li>
<li><a href="#denkvragen">Denkvragen</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Labo 6: C&#43;&#43; Class Inheritance, operators en templates
            </h1>
          

        




<h2 id="c-classes-revisited">C++ Classes revisited</h2>

<p>Nu je een <a href="../../cpp/labo-5">basis van klassen</a> hebt opgedaan in C++ gaan we erving introduceren. Gegeven de volgende modellen:</p>

<script defer src="../../mermaid/mermaid.min.js">
	mermaid.initialize({
		startOnLoad: true,
		flowchart: {
			useMaxWidth: true
		}
	});
</script>
<div class="mermaid" align="center" >
	
graph TD;
  A[Dier]
  B[Viervoeter]
  C[Hond]
  D[Kat]
  E[Vlinder]
  F[Vlees]
  G[Groenten]
  H[Voedsel]
  B --> A
  C --> B
  D --> B
  E --> A
  F --> H
  G --> H

</div>

<p>Gegeven de volgende acceptatie criteria:</p>

<ol>
<li>Elk dier kan een aantal centimeter <em>bewegen</em>.

<ul>
<li>Bij viervoeten hangt dit van de snelheid van het dier af in combinatie met het aantal poten.</li>
<li>Een kat beweegt sneller dan een hond maar is na 2x moe.</li>
<li>Een vlinder beweegt liniair met de grootte van zijn vleugels.</li>
</ul></li>
<li>Elk dier eet <strong>voedsel</strong>.

<ul>
<li>Een hond eet alles.</li>
<li>Een kat eet enkel vlees.</li>
<li>Een vlinder eet enkel groenten.</li>
</ul></li>
</ol>

<p>Een voorbeeldimplementatie in Java zou dit kunnen zijn:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Voedsel</span> <span style="color:#f92672">{</span> <span style="color:#f92672">}</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Vlees</span> <span style="color:#66d9ef">extends</span> Voedsel <span style="color:#f92672">{</span> <span style="color:#f92672">}</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Groenten</span> <span style="color:#66d9ef">extends</span> Voedsel <span style="color:#f92672">{</span> <span style="color:#f92672">}</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Dier</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">kanEten</span><span style="color:#f92672">(</span>Voedsel voedsel<span style="color:#f92672">);</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">beweeg</span><span style="color:#f92672">();</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Viervoeter</span> <span style="color:#66d9ef">extends</span> Dier <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">int</span> aantalPoten <span style="color:#f92672">=</span> 4<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Hond</span> <span style="color:#66d9ef">extends</span> Viervoeter <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">kanEten</span><span style="color:#f92672">(</span>Voedsel voedsel<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">beweeg</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> 10 <span style="color:#f92672">*</span> aantalPoten<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Kat</span> <span style="color:#66d9ef">extends</span> Viervoeter <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> aantalKeerBewogen<span style="color:#f92672">;</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">kanEten</span><span style="color:#f92672">(</span>Voedsel voedsel<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> voedsel <span style="color:#66d9ef">instanceof</span> Vlees<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">beweeg</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        aantalKeerBewogen<span style="color:#f92672">++;</span>
        <span style="color:#66d9ef">int</span> velocity <span style="color:#f92672">=</span> aantalKeerBewogen <span style="color:#f92672">&gt;=</span> 2 <span style="color:#f92672">?</span> 5 <span style="color:#f92672">:</span> 15<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">return</span> velocity <span style="color:#f92672">*</span> aantalPoten<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Vlinder</span> <span style="color:#66d9ef">extends</span> Dier <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> vleugelGrootte <span style="color:#f92672">=</span> 4<span style="color:#f92672">;</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">kanEten</span><span style="color:#f92672">(</span>Voedsel voedsel<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> voedsel <span style="color:#66d9ef">instanceof</span> Groenten<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">beweeg</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> 2 <span style="color:#f92672">*</span> vleugelGrootte<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>De noties van <code>abstract</code>, de <code>@Override</code> annotatie en access modifiers bestaan natuurlijk ook in C++ - zie hoofdstuk 15. Bovenstaande Java code omgezet naar C++:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C">class Voedsel {
public:
    virtual <span style="color:#66d9ef">int</span> voedingswaarde() <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
};
class Vlees : public Voedsel {
    <span style="color:#66d9ef">int</span> voedingswaarde() override { <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">10</span>; }
};
class Groenten : public Voedsel {
    <span style="color:#66d9ef">int</span> voedingswaarde() override { <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">15</span>; }
};

class Dier {
public:
    virtual <span style="color:#66d9ef">bool</span> kanEten(<span style="color:#66d9ef">const</span> Voedsel<span style="color:#f92672">&amp;</span> voedsel) <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    virtual <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">beweeg</span>() <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
};
class Viervoeter : public Dier {
protected:
    <span style="color:#66d9ef">int</span> aantalPoten;

public:
    Viervoeter() <span style="color:#f92672">:</span> aantalPoten(<span style="color:#ae81ff">4</span>) {}
};
class Hond : public Viervoeter {
public:
    <span style="color:#66d9ef">int</span> beweeg() override {
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">*</span> aantalPoten;
    }
    <span style="color:#66d9ef">bool</span> kanEten(<span style="color:#66d9ef">const</span> Voedsel <span style="color:#f92672">&amp;</span>voedsel) override {
        <span style="color:#66d9ef">return</span> true;
    }
};
class Kat : Viervoeter {
private:
    <span style="color:#66d9ef">int</span> aantalKeerBewogen;
public:
    <span style="color:#66d9ef">bool</span> kanEten(<span style="color:#66d9ef">const</span> Voedsel <span style="color:#f92672">&amp;</span>voedsel) override {
        <span style="color:#66d9ef">return</span> typeid(voedsel) <span style="color:#f92672">==</span> typeid(Vlees);
    }

    <span style="color:#66d9ef">int</span> beweeg() override {
        aantalKeerBewogen<span style="color:#f92672">++</span>;
        <span style="color:#66d9ef">int</span> velocity <span style="color:#f92672">=</span> aantalKeerBewogen <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">?</span> <span style="color:#ae81ff">5</span> <span style="color:#f92672">:</span> <span style="color:#ae81ff">15</span>;
        <span style="color:#66d9ef">return</span> velocity <span style="color:#f92672">*</span> aantalPoten;
    }
};
class Vlinder : Dier {
private:
    <span style="color:#66d9ef">int</span> vleugelGrootte;
public:
    Vlinder() <span style="color:#f92672">:</span> vleugelGrootte(<span style="color:#ae81ff">4</span>) {}

private:
    <span style="color:#66d9ef">bool</span> kanEten(<span style="color:#66d9ef">const</span> Voedsel <span style="color:#f92672">&amp;</span>voedsel) override {
        <span style="color:#66d9ef">return</span> typeid(voedsel) <span style="color:#f92672">==</span> typeid(Groenten);
    }

    <span style="color:#66d9ef">int</span> beweeg() override {
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> vleugelGrootte;
    }
};</code></pre></div>
<p><code>typeid()</code> leeft in de <code>&lt;typeinfo&gt;</code> header. <a href="https://en.wikipedia.org/wiki/Run-time_type_information">Een alternatief</a> is dynamische pointers casten (zie onder). Voor de rest zijn de grootste verschillen - buiten de syntax:</p>

<ul>
<li>C++11&rsquo;s <code>override</code> na een methode wordt ook door de compiler gebruikt om te controleren of wat je override wel een virtuele methode is. In Java is <code>@Override</code> enkel ter documentatie.</li>
<li><code>abstract</code> op een klasse bestaat niet. Daarvoor moet je een &ldquo;pure virtuele methode&rdquo; (<code>= 0</code>) aanmaken.</li>
<li>Access modifiers bij een te overerven klasse beslissen of de methodes van die superklasse publiek zijn of niet. Dit bestaat niet in Java.</li>
<li>Methodes die je overschrijfbaar wil maken moet je prefixen met <code>virtual</code>. In Java zijn alle methodes virtual.</li>
</ul>

<p>Als je de access modifiers in de klasse definitie vergeet wordt <code>private</code> aangehouden. Voor een struct is dit standaard <code>public</code>.</p>

<p>Wat is de output van het volgende programma?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C"><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
    Groenten g; <span style="color:#75715e">// vergeet niet dat dit in Java null zou zijn.
</span><span style="color:#75715e"></span>    Vlees v;
    Kat k;

    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;kan een kat groenten eten? &#34;</span> <span style="color:#f92672">&lt;&lt;</span> k.kanEten(g);
    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;kan een kat vlees eten? &#34;</span> <span style="color:#f92672">&lt;&lt;</span> k.kanEten(v);
}</code></pre></div>
<p>En wat is de output van <code>Dier d;</code>? Juist: error: variable type &lsquo;Dier&rsquo; is an abstract class.</p>

<h3 id="extra-flexibiliteit">Extra Flexibiliteit</h3>

<ul>
<li>Gebruik <code>final</code> als suffix als een subklasse deze virtuele methode niet meer mag overschrijven. Kan op klasse of methode niveau.</li>
<li>Gebruik de <code>::</code> operator als je toch een virtual base methode wil aanspreken die reeds overschreven is: <code>kat.Dier::iets()</code> waarbij iets zowel op Kat als op Dier gedefiniëerd is.</li>
<li>Gebruik <code>friend</code> als prefix om een klasse instantie toegang te geven tot private fields van de andere. Kan op klasse of methode niveau. Zie <a href="https://docs.microsoft.com/en-us/dotnet/api/system.runtime.compilerservices.internalsvisibletoattribute?view=netframework-4.7.2">InternalsVisibleTo</a> C# AssemblyInfo.</li>
<li>Gebruik <code>using Base::member</code> als prefix om bepaalde members toch public access te geven als alles als private gedeclareerd is.</li>
</ul>

<p>De method shadowing regels volgen ongeveer dezelfde als die van Java: een non-virtual functie met dezelfde naam en argumenten kan een functie hiden van een superklasse.</p>

<h4 id="extra-ongewenste-flexibiliteit-static-vs-dynamic-binding">Extra (ongewenste) flexibiliteit: static VS dynamic binding</h4>

<p>Kijk eens goed naar het volgende voorbeeld:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C">class A {
public:
    virtual <span style="color:#66d9ef">int</span> a() { <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">3</span>; }
};
class B : public A {
public:
    <span style="color:#66d9ef">int</span> a() { <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">5</span>; }
};

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
    A b <span style="color:#f92672">=</span> B();
    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> b.a() <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
}</code></pre></div>
<p>Wat is de output? 3, en niet 5, ook al is het type van b een instantie van klasse B. Huh? Calls naar virtuele functies <em>kunnen</em> at run-time resolved worden, maar dat &ldquo;hoeft&rdquo; niet (zie p.604). De enige uitzondering hier is het gebruik van pointers: met <code>A* b = new B();</code> geeft <code>b-&gt;a()</code> wél 5 terug.</p>

<p><code>typeid(b).name()</code> blijft &ldquo;1A&rdquo; teruggeven omdat de variabele als type A gedeclareerd is.</p>

<h4 id="upcasten-en-downcasten">Upcasten en downcasten</h4>

<p>C++ voorziet een hele resem aan cast methodes die in het licht van klassen en subklassen nodig kunnen zijn:</p>

<ol>
<li><code>dynamic_cast&lt;T&gt;(t)</code>: downcaster in gebruik. Geeft <code>nullptr</code> terug indien niet gelukt. Dit is Java&rsquo;s aangenomen <code>instanceof</code> manier.</li>
<li><code>static_cast&lt;T&gt;(t)</code>: impliciete conversie ongedaan maken (zie elders). Als je bijvoorbeeld weet dat een <code>void*</code> eigenlijk een <code>Punt*</code> is.Dit kan fouten at compiletime geven.</li>
<li><code>reinterpret_cast&lt;T&gt;(t)</code>: pointer conversies in lijn van C. Dit kan fouten at runtime geven.</li>
<li><code>const_cast&lt;T&gt;(t)</code>: verwijdert of voegt <code>const</code> speficier toe.</li>
</ol>

<p>De C-style cast <code>(Punt*) pt</code> wordt aanzien als bad practice in de C++ wereld.</p>

<h2 id="operatoren-en-klassen-mixen">Operatoren en klassen mixen</h2>

<p>C++ biedt zoals verwacht zelfs op operator niveau flexibiliteit: je kan je eigen operatoren implementeren in klassen (p.552). Op die manier kan je bijvoorbeeld twee 2D punten met elkaar optellen: <code>punt1 + punt2</code>. In Java zal je een methode moeten maken: <code>punt1.plus(punt2)</code> dat een nieuw punt teruggeeft.</p>

<p>Alle mogelijke operatoren kunnen overloaded worden, behalve <code>::</code>, <code>.*</code>, <code>.</code> en <code>?:</code>. Dit brengt ook potentiële problemen met zich mee! Stel je voor dat <code>-&gt;</code> overloaded is en je klasse zich heel anders gedraagt dan een standaard pointer reference. With great power comes great responsibility&hellip;</p>

<p>Een voorbeeld:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C">using namespace std;
class Punt {
  private:
    <span style="color:#66d9ef">int</span> x, y;
  public:
    Punt(<span style="color:#66d9ef">int</span> theX, <span style="color:#66d9ef">int</span> theY) <span style="color:#f92672">:</span> x(theX), y(theY) {}
    Punt operator <span style="color:#f92672">+</span>(<span style="color:#66d9ef">const</span> Punt<span style="color:#f92672">&amp;</span> other) {
      <span style="color:#66d9ef">return</span> Punt(x <span style="color:#f92672">+</span> other.x, y <span style="color:#f92672">+</span> other.y);
    }
    friend ostream<span style="color:#f92672">&amp;</span> operator<span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span> os, Punt punt);
};
ostream<span style="color:#f92672">&amp;</span> operator<span style="color:#f92672">&lt;&lt;</span>(ostream<span style="color:#f92672">&amp;</span> os, Punt punt) {
  os <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;(&#34;</span> <span style="color:#f92672">&lt;&lt;</span> punt.x <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;,&#34;</span> <span style="color:#f92672">&lt;&lt;</span> punt.y <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;)&#34;</span>;
  <span style="color:#66d9ef">return</span> os;
}

<span style="color:#66d9ef">int</span> main() {
  Punt a(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);
  Punt <span style="color:#a6e22e">b</span>(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>);

  cout <span style="color:#f92672">&lt;&lt;</span> a <span style="color:#f92672">+</span> b <span style="color:#f92672">&lt;&lt;</span> endl; <span style="color:#75715e">// print (4,6)
</span><span style="color:#75715e"></span>}</code></pre></div>
<p>Operators kan je ook rechtstreeks aanroepen met <code>punt.operator+(other)</code>. Ze zijn niet verplicht om member te zijn van de klasse zelf maar ik zie geen reden om dingen die samen te horen niet samen te zetten. Een duidelijke uitzondering zijn IO operators! (p.557)</p>

<p>Andere veelgebruikte operatoren:</p>

<ul>
<li><code>&lt;&lt;</code> als <code>toString()</code> in Java naar stdout.</li>
<li><code>==</code> als <code>equals()</code> in Java. Vergeet niet <code>!=</code> ook te implementeren dan!</li>
<li><code>=</code> als in-assignment om <code>{ }</code> te gebruiken.</li>
<li><code>[]</code> als lijst-accessor.</li>
</ul>

<h3 id="conversion-operators">Conversion operators</h3>

<p>Een conversie tussen twee types gebeurt impliciet als de compiler een match kan vinden. Je kan de compiler een handje helpen door er zelf in je klasse bij te definiëren: <code>operator int()</code> (zonder return type). Vanaf dan compileert <code>Punt p; p + 5;</code> in combinatie met de plus operator!</p>

<p>Impliciete conversies zijn niet altijd wenselijk, daarvoor dient de prefix <code>explicit</code> (ook toepasbaar op constructoren). Expliciete conversies doe je zelf met <code>static_cast&lt;int&gt;(p)</code> - gegeven dat de operator geïmplementeerd is natuurlijk.</p>

<h2 id="templating-generics">Templating: &ldquo;generics&rdquo;</h2>

<p>Herinner je de STL <code>vector</code> klasse. Deze collectie kan integers opslaan, of Punt instances, door tussen <code>&lt;&gt;</code> een type mee te geven: <code>vector&lt;Punt&gt; punten;</code>. Er is een template voor gedefiniëerd. Stel dat ik de punt klasse wens uit te breiden met de mogelijkheid niet alleen integers maar ook doubles als coordinaten te gebruiken:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C">template<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span> class Punt {
  private:
   T x, y;
  public:
   Punt(T theX, T theY) <span style="color:#f92672">:</span> x(theX), y(theY) {}
};
Punt<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">double</span><span style="color:#f92672">&gt;</span> pt(<span style="color:#ae81ff">1.2</span>, <span style="color:#ae81ff">3.4</span>);
Punt<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> pt2(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>);</code></pre></div>
<p>Templates kunnen ook op functie niveau gedefiniëerd worden, als losstaande functie en als deel van een klasse genaamd member templates. (p.672)</p>

<h4 id="hercompilatie-van-templates">Hercompilatie van templates</h4>

<p>De C++ compiler maakt voor elk template argument in je code (hier <code>double</code> en <code>int</code>) een aparte versie van de <code>Punt</code> klasse. In Java wordt dat weggecompileerd en dienen generics enkel als syntaxtisch hulpmiddel. Dit heeft wel als negatief gevolg dat de binary erg groot kan worden als die vol zit met duplicate versies van <code>Punt</code>!</p>

<p>Er zijn mogelijkheden tot compiler- en objectoptimalisatie met het keyword <code>extern</code>. Aanschouw het volgende schema met bijhorende code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C"><span style="color:#75715e">// header.h
</span><span style="color:#75715e"></span><span style="color:#75715e">#ifndef _header_h
</span><span style="color:#75715e">#define _header_h
</span><span style="color:#75715e"></span>template<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span> T punt(T t) {
    <span style="color:#66d9ef">return</span> t;
}
<span style="color:#75715e">#endif
</span><span style="color:#75715e"></span><span style="color:#75715e">// source1.cpp
</span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;header.h&#34;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> punt1() {
  <span style="color:#66d9ef">auto</span> pt <span style="color:#f92672">=</span> punt<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(<span style="color:#ae81ff">5</span>);  <span style="color:#75715e">// template&lt;int&gt; compiled
</span><span style="color:#75715e"></span>}
<span style="color:#75715e">// source2.cpp
</span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;header.h&#34;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> punt2() {
  <span style="color:#66d9ef">auto</span> pt <span style="color:#f92672">=</span> punt<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(<span style="color:#ae81ff">4</span>);  <span style="color:#75715e">// template&lt;int&gt; compiled - opnieuw!!
</span><span style="color:#75715e"></span>}</code></pre></div>
<script defer src="../../mermaid/mermaid.min.js">
	mermaid.initialize({
		startOnLoad: true,
		flowchart: {
			useMaxWidth: true
		}
	});
</script>
<div class="mermaid" align="center" >
	
graph TD;
  subgraph source code
    H[header.h<br/> template definitie van Punt]
    A[source1.cpp<br/> gebruik Punt van int]
    B[source2.cpp<br/> gebruik Punt van int]
    A --> H
    B --> H
  end
  subgraph object output
    O[source1.o<br/> compilatie Punt van int]
    P[source1.o<br/> compilatie Punt van int]
  end

</div>

<p>Als we een source file compileren én proberen te linken vinden we geen <code>main()</code> functie:</p>

<pre>
Wouters-MacBook-Air:cmake-build-debug wgroenev$ g++ -std=c++11 source1.cpp
Undefined symbols for architecture x86_64:
  "_main", referenced from:
     implicit entry/start for main executable
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
</pre>

<p>Vergeet de <code>-c</code> optie dus niet. Door de symbol table van de machine code van source1.o te inspecteren krijgen we inzicht in de zonet gecompileerde bytes. Op Unix kan dit met <code>nm</code>:</p>

<pre>
  Wouters-MacBook-Air:cmake-build-debug wgroenev$ nm source1.o | c++filt
0000000000000070 short EH_frame0
0000000000000020 S int punt<int>(int)
00000000000000b0 S int punt<int>(int) (.eh)
0000000000000000 T punt1()
0000000000000088 S punt1() (.eh)
</pre>

<p>Je ziet op adres <code>00000000000000b0</code> de nieuwe functie die als <code>&lt;int&gt;</code> gecompileerd is. Dit zit dubbel en ook in source2.cpp! Dit lossen we op door in één van de twee cpp bestanden <code>extern template int punt(int x);</code> toe te voegen zodat de compiler dit niet opnieuw behandelt:</p>

<pre>
Wouters-MacBook-Air:cmake-build-debug wgroenev$ nm source1.o | c++filt
0000000000000040 short EH_frame0
                 U int punt<int>(int)
0000000000000000 T punt1()
0000000000000058 S punt1() (.eh)
</pre>

<p>De <code>U</code> duidt aan dat dit een onbekende functie is die naderhand (hopelijk) gelinkt zal worden en binnen een ander object leeft. <a href="http://nickdesaulniers.github.io/blog/2016/08/13/object-files-and-symbols/">Lees meer</a> over interessante object files en symbolen. In de praktijk geldt dit ook voor STL klassen als <code>vector&lt;int&gt;</code>: externals worden meestal in een gedeelde header file geplaatst.</p>

<p>Omdat een <code>Punt&lt;double&gt;</code> dus een andere klasse is dan een <code>Punt&lt;int&gt;</code> zijn ze niet compatibel met elkaar: het zijn twee unieke klassen. Dit is het grootste verschil tussen Templates in C++ en Generics in Java. De notatie <code>&lt;T extends BaseClass&gt;</code> is hierdoor niet nodig (maar kan wel met <a href="https://en.cppreference.com/w/cpp/types/enable_if"><code>enable_if</code></a>).</p>

<h4 id="herdeclaratie-van-templates">Herdeclaratie van templates</h4>

<p>De constructor - of eender welke methode met <code>T</code> buiten de klasse template definiëren betekent dat we de template notatie zullen moeten herhalen want de compiler weet dan niet meer wat die <code>T</code> precies is:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C"><span style="color:#75715e">// in punt.h
</span><span style="color:#75715e"></span>template<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span> class Punt {
  Punt(T theX, T theY);
}
<span style="color:#75715e">// in punt.cpp
</span><span style="color:#75715e"></span>template<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span> Punt<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;::</span>Punt(T theX, T theY) <span style="color:#f92672">:</span> x(theX), y(theY) {
}</code></pre></div>
<h4 id="type-en-non-type-arguments">Type en non-type arguments</h4>

<p><code>typename</code> staat voor &ldquo;dit is type T&rdquo; en kan eender welk type zijn. Een constante expressie zoals <code>5</code> of een string <code>&quot;hallo&quot;</code> aanvaarden gaat zo ook: dat zijn immers ook types.</p>

<p>Constante expressies met <code>unsigned</code> in de template definitie kunnen pointers, value references of integrale types zijn. In ons voorbeeld is het niet aangewezen om dit toe te passen: <code>Punt&lt;3, 4&gt; pt;</code> slaat enkel op iets als dit punt nooit kan muteren.</p>

<h4 id="herhaling-vermijden-met-typedef">Herhaling vermijden met typedef</h4>

<p>Kan op twee manieren:</p>

<ol>
<li><code>typedef Punt&lt;int&gt; iPunt;</code>: <code>iPunt p;</code></li>
<li><code>template&lt;typename T&gt; using pt = Punt&lt;T&gt;;</code>: <code>pt&lt;int&gt; p;</code></li>
</ol>

<p>Waarbij optie twee meestal gebruikt wordt om verschillende template types te linken: nu heeft dit niet bijzonder veel nut. <code>typedef</code> kan niet refereren naar een template type.</p>

<h4 id="template-default-arguments">Template default arguments</h4>

<p>Als ik een template type wil van een klasse aangeven, maar dit in 80% van de gevallen een <code>int</code> gaat zijn kan ik deze defaulten:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C">template<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T <span style="color:#f92672">=</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> class Punt;
Punt<span style="color:#f92672">&lt;&gt;</span> pt;  <span style="color:#f92672">//</span> <span style="color:#f92672">&lt;&gt;</span> nog steeds verplicht.</code></pre></div>
<p>Zonder <code>&lt;&gt;</code> krijg je &ldquo;error: use of class template &lsquo;Punt&rsquo; requires template arguments&rdquo;.</p>

<p>Voor functies probeert de compiler automatisch het type te deduceren gebaseerd op het meegegeven argument (p.678). Dat wil zeggen dat we het type niet moeten meegeven en ook niet hoeven te defaulten:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C">template<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span> T puntFn(T t) {
    <span style="color:#66d9ef">return</span> t;
}
<span style="color:#66d9ef">int</span> pt <span style="color:#f92672">=</span> puntFn<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(<span style="color:#ae81ff">5</span>);  <span style="color:#75715e">// geldig
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> pt <span style="color:#f92672">=</span> puntFn(<span style="color:#ae81ff">5</span>);       <span style="color:#75715e">// ook geldig!
</span><span style="color:#75715e"></span><span style="color:#66d9ef">auto</span> pt <span style="color:#f92672">=</span> puntFn(<span style="color:#ae81ff">5</span>);      <span style="color:#f92672">//</span> ook geldig<span style="color:#f92672">!</span></code></pre></div>
<h4 id="template-variable-arguments-packs">Template variable arguments: packs</h4>

<p>Wat nu als je verschillende argumenten nodig hebt die allemaal verschillende types hebben, waarvan je het type niet op voorhand weet? De altijd-aanwezige flexibiliteit in C++ lost dit probleem even voor je op met <em>variadic templates</em>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C">template <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span>... Ts<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">void</span> som(Ts... args) {}</code></pre></div>
<p>Dankzij compiler deductie hoeven we niet alle templates aan te vullen als we het aanroepen: <code>som(1, 2.0, true);</code> zou hetzelfde zijn als <code>som&lt;int, double, bool&gt;(1, 2.0, true);</code>. Om dit voorbeld te laten werken hebben we echter <strong>recursie</strong> nodig: een functie voor een basisgeval, en een functie voor de rest. Daarom heet dit &ldquo;packing&rdquo; en is <code>...</code> het unpacken van de template arguments.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C">template<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span> T som(T t) { <span style="color:#66d9ef">return</span> t; }
template<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T, <span style="color:#66d9ef">typename</span>... TRest<span style="color:#f92672">&gt;</span> T som(T first, TRest... args) {
  <span style="color:#66d9ef">return</span> first <span style="color:#f92672">+</span> som(args...);
}
<span style="color:#66d9ef">auto</span> result <span style="color:#f92672">=</span> som(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2.0</span>, <span style="color:#ae81ff">3</span>);</code></pre></div>
<p>Zie <a href="https://en.cppreference.com/w/cpp/language/parameter_pack">docs</a>.</p>

<h2 id="a-name-oef-a-labo-oefeningen"><a name="oef"></a>Labo oefeningen</h2>

<ol>
<li>Implementeer de volgende business criteria. Werk eerst een snel model uit op papier. Elke schuin gedrukte term verwacht ik terug te zien als een klasse of methode:

<ol>
<li>Een <em>vacature</em> bevat een onderwerp, een lijst van vereisten in de vorm van <em>diploma&rsquo;s</em>.</li>
<li>Een <em>sollicitant</em> heeft een naam en ook <em>diploma&rsquo;s</em>: een <em>universitair</em> heeft een bepaald diploma en een <em>doctor</em> een andere.</li>
<li>Een sollicitant kan <em>solliciteren</em> op een bepaalde vacature. Hij komt in aanmerking of niet (<code>bool</code> is OK), gebaseerd op de matchende diploma&rsquo;s.</li>
<li>We hebben een manier nodig om het <em>aantal sollicitanten</em> van een vacature op te vragen (naar <code>stdout</code>).</li>
<li>We hebben een manier nodig om voor elke sollicitant snel zijn gegevens (naam en aantal diploma&rsquo;s) af te drukken.</li>
</ol></li>
<li>Breid de <code>Punt</code> klasse uit met de volgende vereisten:

<ol>
<li>Er kunnen 2D of 3D punten bestaan</li>
<li>De punten kunnen gehele of rationale getallen bevatten.</li>
<li>Ik kan punten converteren van 2D naar 3D of omgekeerd (met verlies)</li>
<li>Ik kan punten met elkaar optellen.</li>
</ol></li>
<li><em>Extra</em>: Denk terug aan je dierentuin van <a href="../../cpp/labo-5">labo 5</a>. Dieren moeten gevoed worden met de <code>bool voeder(const Voedsel &amp;voedsel)</code> methode op dierentuin. De functie geeft <code>TRUE</code> terug indien het voedsel voldoende is voor alle dieren en <code>FALSE</code> indien het onvoldoende is. Voedsel heeft een <code>voedingswaarde</code>. Elk dier eet even veel in voedingswaarde als zijn gewicht. Verzin voedsel <strong>subklassen</strong> om alle edge cases te kunnen testen!</li>
<li><em>Extra</em>: Dieren zijn carnivoren, herbivoren of omnivoren. Voedsel is ofwel plant- ofwel vleesgebaseerd. Wat doe je als je een carnivoor sla geeft, of een herbivoor een stukje kip? Hoe implementeer je deze specificaties?</li>
<li><em>Extra</em>: Dieren zijn allergisch aan bepaald voedsel. Wat doe je als je een dier eten geeft dat het niet verdraagd? Wat doe je in je <code>voeder()</code> implementatie? Voorzie een methode <code>bool isAllergischAan(const Voedsel &amp;voedsel)</code> in je Dier klasse.</li>
</ol>

<p>Tips: denk aan het thema: subklassen, operators, templates.</p>

<h2 id="denkvragen">Denkvragen</h2>

<ol>
<li>Welke operatoren buiten <code>-&gt;</code> overload je best niet, en waarom? Geef een voorbeeld.</li>
<li>Hoe kan je <code>Punt</code> uitbreiden tot X dimensies?</li>
<li>Wat is het fundamentele verschil tussen Generics in Java en Templates in C++?</li>
<li>Wat is polymorfisme in je eigen woorden? Hoe pas je dit toe in C++?</li>
</ol>


<footer class="footline">
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="../../cpp/labo-5/" title="Labo 5: Weg met C, Hallo C&#43;&#43;"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../cpp/labo-7/" title="Labo 7: Software ontwerpen" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1602585869"></script>
    <script src="../../js/perfect-scrollbar.min.js?1602585869"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1602585869"></script>
    <script src="../../js/jquery.sticky.js?1602585869"></script>
    <script src="../../js/featherlight.min.js?1602585869"></script>
    <script src="../../js/highlight.pack.js?1602585869"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../js/modernizr.custom-3.6.0.js?1602585869"></script>
    <script src="../../js/learn.js?1602585869"></script>
    <script src="../../js/hugo-learn.js?1602585869"></script>

    <link href="../../mermaid/mermaid.css?1602585869" rel="stylesheet" />
    <script src="../../mermaid/mermaid.js?1602585869"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

