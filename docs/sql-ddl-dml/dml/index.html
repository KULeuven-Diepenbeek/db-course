<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/db-course/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=db-course/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.143.1">
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>DML :: Databases</title>

    
    <link href="../../css/nucleus.css?1745318506" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1745318506" rel="stylesheet">
    <link href="../../css/hybrid.css?1745318506" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1745318506" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1745318506" rel="stylesheet">
    <link href="../../css/auto-complete.css?1745318506" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1745318506" rel="stylesheet">
    <link href="../../css/theme.css?1745318506" rel="stylesheet">
    <link href="../../css/autonumbering.css?1745318506" rel="stylesheet">
    <link href="../../css/devselector.css?1745318506" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1745318506" rel="stylesheet">
    <link href="../../css/theme-kul.css?1745318506" rel="stylesheet">
    

    <script src="../../js/jquery-3.3.1.min.js?1745318506"></script>
    <script src="../../js/devselector.js?1745318506"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="../../sql-ddl-dml/dml/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
  <img src="../../images/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
  <img src="../../images/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1745318506"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1745318506"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/localhost:1313\/db-course\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1745318506"></script>

    
  </div>

    <div class="highlightable">

      <h3><a href="../../">Course Contents</a></h3>
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/sql/" title="RDBMS" class="dd-item
        
        
        
        ">
      <a href="../../sql/">
          RDBMS
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/sql/rdbms-basics/" title="Database Basics" class="dd-item ">
        <a href="../../sql/rdbms-basics/">
        Database Basics
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/sql/rdbms-components/" title="Database Componenten" class="dd-item ">
        <a href="../../sql/rdbms-components/">
        Database Componenten
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/sql/rdbms-acid/" title="ACID" class="dd-item ">
        <a href="../../sql/rdbms-acid/">
        ACID
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/sql-ddl-dml/" title="SQL DDL &amp; DML" class="dd-item
        parent
        
        
        ">
      <a href="../../sql-ddl-dml/">
          SQL DDL &amp; DML
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/sql-ddl-dml/ddl/" title="DDL" class="dd-item ">
        <a href="../../sql-ddl-dml/ddl/">
        DDL
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/sql-ddl-dml/dml/" title="DML" class="dd-item active">
        <a href="../../sql-ddl-dml/dml/">
        DML
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/transacties/" title="RDBMS Transacties" class="dd-item
        
        
        
        ">
      <a href="../../transacties/">
          RDBMS Transacties
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/transacties/acid/" title="ACID" class="dd-item ">
        <a href="../../transacties/acid/">
        ACID
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/transacties/basics/" title="Transaction Mgmt. Basics" class="dd-item ">
        <a href="../../transacties/basics/">
        Transaction Mgmt. Basics
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/transacties/concurrency-control/" title="Concurrency Control" class="dd-item ">
        <a href="../../transacties/concurrency-control/">
        Concurrency Control
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/transacties/failures-rollbacks/" title="Failures-Rollbacks" class="dd-item ">
        <a href="../../transacties/failures-rollbacks/">
        Failures-Rollbacks
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/apis/" title="Database APIs" class="dd-item
        
        
        
        ">
      <a href="../../apis/">
          Database APIs
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/apis/basics/" title="API Basics" class="dd-item ">
        <a href="../../apis/basics/">
        API Basics
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/apis/jdbc/" title="JDBC" class="dd-item ">
        <a href="../../apis/jdbc/">
        JDBC
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/apis/jdbi/" title="JDBI" class="dd-item ">
        <a href="../../apis/jdbi/">
        JDBI
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/apis/jpa/" title="JPA en Hibernate" class="dd-item ">
        <a href="../../apis/jpa/">
        JPA en Hibernate
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/apis/repository_interface/" title="Interface" class="dd-item ">
        <a href="../../apis/repository_interface/">
        Interface
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/apis/opdracht/" title="VERPLICHTE opdracht" class="dd-item ">
        <a href="../../apis/opdracht/">
        VERPLICHTE opdracht
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/nosql/" title="NoSQL" class="dd-item
        
        
        
        ">
      <a href="../../nosql/">
          NoSQL
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/nosql/4oef3/" title="" class="dd-item ">
        <a href="../../nosql/4oef3/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/nosql/basics/" title="NoSQL Basics" class="dd-item ">
        <a href="../../nosql/basics/">
        NoSQL Basics
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://studiegidswww.uhasselt.be/opleidingsonderdeel.aspx?a=2025&amp;i=4290"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li>
                  <a class="padding" href="https://toledo.kuleuven.be/portal/"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
              <li>
                  <a class="padding" href="https://github.com/kuleuven-diepenbeek/db-course/"><i class='fab fa-github'></i> Course Git Repository</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Index</a> > <a href='../../sql-ddl-dml/'>SQL DDL & DML</a> > DML
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
  <div class="wrapper toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#select">SELECT</a>
      <ul>
        <li><a href="#like-operator">LIKE operator</a></li>
        <li><a href="#null">NULL</a></li>
        <li><a href="#join">JOIN</a></li>
        <li><a href="#group-by">GROUP BY</a></li>
        <li><a href="#having">HAVING</a></li>
        <li><a href="#subqueries">Subqueries</a></li>
        <li><a href="#data-manipulatie">Data manipulatie</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              DML
            </h1>
          

        

        





<article class='content'>
<p><strong>Data Modification Language</strong> is de taal die we gebruiken om de data van onze database te bekijken of aan te passen. Met DML kunnen we CRUD operaties uitvoeren. Create, Read, Update en Delete.</p>
<h2 id="select">SELECT</h2>
<p><code>SELECT</code> is het commando dat we gebruiken om data op te vragen uit de database.</p>
<pre tabindex="0"><code>    SELECT { DISTINCT } expression
    FROM table
    { WHERE condition }
</code></pre><h3 id="like-operator">LIKE operator</h3>
<p><code>LIKE</code> wordt gebruikt om wildcard searches uit te voeren. Deze kan enkel gebruikt worden op alfanumerieke velden.</p>
<p><code>%</code> is een match anything character voor een onbeperkt aantal karakters (0 tot n).
Zo matcht <code>Gen%</code> met volgende waardes: Gen, Genk, Gent, Genève, Genua, &hellip;</p>
<p><code>_</code> is een match anything character voor één karakter.
Zo matcht <code>Gen_</code> met volgende waardes: Genk, Gent, &hellip;
Maar niet met volgende waardes: Gen, Genève, Genua, &hellip;</p>
<h3 id="null">NULL</h3>
<p><code>NULL</code> is het ontbreken van een waarde. Het is een onbekende. We kunnen in DML niet zomaar vergelijken met <code>NULL</code>. We kunnen namelijk niet zeggen dat een onbekende gelijk is aan een andere onbekende.</p>
<p>Hieronder een overzicht van een binary AND table met <code>True</code>, <code>False</code> en <code>NULL</code> waardes.</p>
<table>
  <thead>
      <tr>
          <th>AND</th>
          <th>True</th>
          <th>False</th>
          <th>NULL</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>True</td>
          <td>True</td>
          <td>False</td>
          <td>NULL</td>
      </tr>
      <tr>
          <td>False</td>
          <td>False</td>
          <td>False</td>
          <td>False</td>
      </tr>
      <tr>
          <td>NULL</td>
          <td>NULL</td>
          <td>False</td>
          <td>NULL</td>
      </tr>
  </tbody>
</table>

<div class="ex">
	<div class="inner">
    	<p>Denkvraag: Waarom is <code>False == NULL</code> gelijk aan <code>False</code>?</p>

	</div>
</div>
<p>Hieronder vinden we de binary OR table met <code>True</code>, <code>False</code> en <code>NULL</code> waardes.</p>
<table>
  <thead>
      <tr>
          <th>OR</th>
          <th>True</th>
          <th>False</th>
          <th>NULL</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>True</td>
          <td>True</td>
          <td>True</td>
          <td>True</td>
      </tr>
      <tr>
          <td>False</td>
          <td>True</td>
          <td>False</td>
          <td>NULL</td>
      </tr>
      <tr>
          <td>NULL</td>
          <td>True</td>
          <td>NULL</td>
          <td>NULL</td>
      </tr>
  </tbody>
</table>
<p>Als we willen vergelijken met <code>NULL</code> in queries, dan gebruiken we volgende code:</p>
<p><code>&lt;value&gt; IS NULL</code></p>
<p>en</p>
<p><code>&lt;value&gt; IS NOT NULL</code></p>

<div class="ex">
	<div class="inner">
    	<ol>
<li>Schrijf een query die alle Customers (volledige naam, customer ID en land) laat zien die niet wonen in de USA.</li>
<li>Schrijf een query die enkel de Customers laat zien die in Brazilië wonen.</li>
<li>Schrijf een query die alle Employees laat zien die werken in de Sales afdeling.</li>
<li>Schrijf een query die een unieke lijst van landen laat zien uit de Invoices tabel.</li>
<li>Schrijf een query die alle Tracks laat zien waarvoor er geen componist bekend is.</li>
<li>Schrijf een query van alle unieke Componisten. Als de componist niet bekend is, dan moet er &lsquo;Onbekend&rsquo; weergegeven worden gesorteerd op naam.</li>
<li>Schrijf een query die het maximumbedrag van alle Invoices laat zien.</li>
</ol>

	</div>
</div>
<h3 id="join">JOIN</h3>
<p>Wanneer we informatie willen ophalen uit meerdere tabellen dan gebruiken we daar een JOIN statement voor.  Die syntax ziet er als volgt uit:</p>
<pre tabindex="0"><code>    SELECT { DISTINCT } expression
    FROM table
    INNER JOIN other_table ON join_condition
    { WHERE condition }
</code></pre><p>Hiermee matchen we alle data van de ene tabel met de andere tabel op de meegegeven conditie. Er bestaan drie verschillende types JOINs:</p>
<ul>
<li><code>INNER JOIN</code> - Geeft alle resultaten die bestaan zowel in de ene als de andere tabel</li>
<li><code>LEFT JOIN</code> - Geeft alle resultaten die bestaan in de base tabel, ook al bestaan die niet in de tabel waarop we joinen</li>
<li><code>RIGHT JOIN</code> - Wordt in de praktijk zelden tot nooit gebruikt. Geeft alle resultaten die bestaan in de gejoinde tabel ook al bestaan ze niet in de base tabel.</li>
</ul>

<div class="ex">
	<div class="inner">
    	<ol>
<li>Schrijf een query die alle Invoices laat zien van alle Customers uit Brazilië. Het resultaat moet de volledige naam van de Customer, Invoice ID, Invoice Datum en Billing Country weergeven.</li>
<li>Schrijf een query die alle Invoices laat zien voor elke Sales Agent. Het resultaat moet de volledige naam van de Sales Agent weergeven.</li>
<li>Schrijf een query die het Invoice Totaal, de Customer naam en land en de naam van de Sales Agent weergeeft voor alle Invoices en Customers.</li>
<li>Schrijf een query die het aantal invoice lijnen weergeeft voor Invoice ID 37.</li>
<li>Schrijf een query die de track naam weergeeft langs elke invoice lijn.</li>
<li>Schrijf een query die de track naam en de artiest naam weergeeft langs elke invoice lijn.</li>
<li>Schrijf een query die alle tracks laat zien, maar geen ID&rsquo;s. Het resultaat moet de album titel, het media type en het genre bevatten.</li>
<li>Schrijf een query die alle genres weergeeft waarvoor er geen tracks bestaan.</li>
</ol>

	</div>
</div>
<h3 id="group-by">GROUP BY</h3>
<p>Soms willen we data <strong>aggregeren</strong>. In Basic Engineering Skills in Python werd aggregratie gebruikt om bijvoorbeeld de som van een lijst te nemen, of met <code>funtools.reduce()</code> een custom functie los te laten op een lijst. (Dit gaan we ook nog zien in het hoofdstuk rond <a href="../../db-course/nosql/mapreduce/">NoSQL &ndash; Advanced map-reduce queries</a>).</p>
<p>In RDBMS bestaan hiervoor een aantal verschillende functies. De meest courante zijn hieronder te vinden:</p>
<ul>
<li><code>MAX()</code></li>
<li><code>MIN()</code></li>
<li><code>COUNT()</code></li>
<li><code>AVG()</code></li>
<li><code>SUM()</code></li>
</ul>
<p>Elke waarde die je extra selecteert in een query bovenop een aggregate function, moet in een <code>GROUP BY</code> clause komen. Hoe ziet dit er dan bijvoorbeeld uit?</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#00a8c8">SELECT</span> <span style="color:#111">BillingCity</span><span style="color:#111">,</span> <span style="color:#00a8c8">SUM</span><span style="color:#111">(</span><span style="color:#111">Total</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">FROM</span> <span style="color:#111">Invoices</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">GROUP</span> <span style="color:#00a8c8">BY</span> <span style="color:#111">BillingCity</span>
</span></span></code></pre></div><p>Zonder <code>GROUP BY</code> statement krijg je ofwel een fout ofwel maar één record terug, zoals in SQLite.</p>
<h3 id="having">HAVING</h3>
<p>Als we willen filteren op een grouping function, dan gaat dat niet via een <code>WHERE</code> clause, dan krijg je namelijk een foutmelding:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#00a8c8">SELECT</span> <span style="color:#111">BillingCity</span><span style="color:#111">,</span> <span style="color:#00a8c8">count</span><span style="color:#111">(</span><span style="color:#f92672">*</span><span style="color:#111">)</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">invoices</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">WHERE</span> <span style="color:#00a8c8">count</span><span style="color:#111">(</span><span style="color:#f92672">*</span><span style="color:#111">)</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">GROUP</span> <span style="color:#00a8c8">BY</span> <span style="color:#111">BillingCity</span>
</span></span></code></pre></div><p><figure>
	<a href="../../slides/img/where_error.png" data-featherlight="image">
		<img src="../../slides/img/where_error.png"  >
	</a>
	
</figure>
</p>
<p>Om te filteren op een grouping function schrijven we dit in een <code>HAVING</code> clause die de query gebruikerlijks afsluit:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#00a8c8">SELECT</span> <span style="color:#111">BillingCity</span><span style="color:#111">,</span> <span style="color:#00a8c8">count</span><span style="color:#111">(</span><span style="color:#f92672">*</span><span style="color:#111">)</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">invoices</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">GROUP</span> <span style="color:#00a8c8">BY</span> <span style="color:#111">BillingCity</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">HAVING</span> <span style="color:#00a8c8">count</span><span style="color:#111">(</span><span style="color:#f92672">*</span><span style="color:#111">)</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span>
</span></span></code></pre></div>
<div class="ex">
	<div class="inner">
    	<ol>
<li>Schrijf een query die het aantal Invoices laat zien voor 2009 en 2011.</li>
<li>Schrijf een query die het aantal invoices per land laat zien.</li>
<li>Schrijf een query die per Invoice ID het aantal invoice lijnen laat zien.</li>
<li>Schrijf een query die de naam van elke playlist laat zien, alsook het aantal tracks in elke playlist.</li>
<li>Schrijf een query die alle data uit de Invoices tabel laat zien, aangevuld met het aantal invoice lijnen.</li>
<li>Schrijf een query die de totale verkoopcijfers per Sales Agent laat zien.</li>
<li>Schrijf een query die laat zien welke Sales Agent de grootste verkoopcijfers heeft voor 2009.</li>
<li>Schrijf een query die laat zien welke Sales Agent de grootste verkoopcijfers heeft voor 2010.</li>
<li>Schrijf een query die laat zien welke Sales Agent de grootste verkoopcijfers heeft over alle jaren heen.</li>
<li>Schrijf een query die het aantal Customers laat zien per Sales Agent.</li>
<li>Schrijf een query die de totale verkoopcijfers per land laat zien. In welk land werd er het meest uitgegeven?</li>
<li>Schrijf een query die laat zien welke track er in 2013 het meest werd verkocht.</li>
<li>Schrijf een query die laat zien wat de top 5 tracks zijn die ooit werden verkocht.</li>
<li>Schrijf een query die laat zien wie de top 3 artiesten zijn die het meest verkocht werden.</li>
<li>Schrijf een query die laat zien welk media type het meest verkocht werd.</li>
<li>Schrijf een query die de tracks laat zien die meer dan 4 keer verkocht zijn.</li>
</ol>

	</div>
</div>
<h3 id="subqueries">Subqueries</h3>
<p>Een query die we uitvoeren geeft een set van resultaten terug. Die set kunnen we opnieuw gebruiken als input voor een nieuwe query. We kunnen die set op verschillende plaatsen gebruiken als input voor een nieuwe query. Hieronder een aantal voorbeelden.</p>
<h4 id="in-een-where-clause">In een WHERE clause</h4>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#00a8c8">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">invoice_items</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">WHERE</span> <span style="color:#111">invoice_items</span><span style="color:#111">.</span><span style="color:#111">TrackId</span> <span style="color:#00a8c8">IN</span> <span style="color:#111">(</span>
</span></span><span style="display:flex;"><span>	<span style="color:#00a8c8">SELECT</span> <span style="color:#111">tracks</span><span style="color:#111">.</span><span style="color:#111">TrackId</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">tracks</span>
</span></span><span style="display:flex;"><span>	<span style="color:#00a8c8">WHERE</span> <span style="color:#111">name</span> <span style="color:#00a8c8">LIKE</span> <span style="color:#d88200">&#39;%hell%&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#111">)</span>
</span></span></code></pre></div><h4 id="in-een-from-clause">In een FROM clause</h4>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#00a8c8">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">(</span>
</span></span><span style="display:flex;"><span>	<span style="color:#00a8c8">SELECT</span> <span style="color:#111">tracks</span><span style="color:#111">.</span><span style="color:#111">TrackId</span><span style="color:#111">,</span> <span style="color:#111">tracks</span><span style="color:#111">.</span><span style="color:#111">Name</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">tracks</span>
</span></span><span style="display:flex;"><span>	<span style="color:#00a8c8">WHERE</span> <span style="color:#111">name</span> <span style="color:#00a8c8">LIKE</span> <span style="color:#d88200">&#39;%hell%&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#111">)</span>
</span></span></code></pre></div><h4 id="in-een-join-clause">In een JOIN clause</h4>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#00a8c8">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">tracks</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">INNER</span> <span style="color:#00a8c8">JOIN</span> <span style="color:#111">(</span>
</span></span><span style="display:flex;"><span>	<span style="color:#00a8c8">SELECT</span> <span style="color:#111">tracks</span><span style="color:#111">.</span><span style="color:#111">TrackId</span><span style="color:#111">,</span> <span style="color:#111">tracks</span><span style="color:#111">.</span><span style="color:#111">Name</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">tracks</span>
</span></span><span style="display:flex;"><span>	<span style="color:#00a8c8">WHERE</span> <span style="color:#111">name</span> <span style="color:#00a8c8">LIKE</span> <span style="color:#d88200">&#39;%hell%&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#111">)</span> <span style="color:#111">hell_tracks</span> <span style="color:#00a8c8">ON</span> <span style="color:#111">hell_tracks</span><span style="color:#111">.</span><span style="color:#111">TrackId</span> <span style="color:#f92672">=</span> <span style="color:#111">tracks</span><span style="color:#111">.</span><span style="color:#111">TrackId</span>
</span></span></code></pre></div>
<div class="notices warning" ><p>Subqueries in een <code>WHERE IN</code> statement worden geëvauleerd voor elke voor elke rij uit de outer query, dus zijn eigenlijk niet zo heel performant. We kunnen dat iets verbeteren door dat te herschrijven naar een <code>WHERE EXISTS</code> statement. Zie hieronder.</p>
</div>

<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#00a8c8">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">invoice_items</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">WHERE</span> <span style="color:#00a8c8">EXISTS</span> <span style="color:#111">(</span>
</span></span><span style="display:flex;"><span>	<span style="color:#00a8c8">SELECT</span> <span style="color:#ae81ff">1</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">tracks</span>
</span></span><span style="display:flex;"><span>	<span style="color:#00a8c8">WHERE</span> <span style="color:#111">name</span> <span style="color:#00a8c8">LIKE</span> <span style="color:#d88200">&#39;%hell%&#39;</span> <span style="color:#00a8c8">AND</span> <span style="color:#111">tracks</span><span style="color:#111">.</span><span style="color:#111">TrackId</span> <span style="color:#f92672">=</span> <span style="color:#111">invoice_items</span><span style="color:#111">.</span><span style="color:#111">TrackId</span>
</span></span><span style="display:flex;"><span><span style="color:#111">)</span>
</span></span></code></pre></div><p>De <code>IN</code> clause gaat een subquery volledig ophalen om alle rijen te hebben om dan in die lijst van rijen te kunnen zoeken. Een <code>EXISTS</code> clause gaat een subquery maar zo lang uitvoeren tot er een resultaat gevonden is. Als de tabel uit de subquery 1000 rijen bevat en er wordt een match gevonden op rij 200, dan gaan de andere 800 niet meer geëvauleerd worden.</p>

<div class="ex">
	<div class="inner">
    	<p>De meeste van deze queries kunnen ook geschreven worden met een <code>JOIN</code> statement. Dit is echter niet waar we hier op willen oefenen. Los dus volgende oefeningen op met minstens één subquery. Als je hier moeite mee hebt kan her handig zijn om eerst een werkende query te bekomen met <code>JOIN</code> en die dan om te vormen naar een subquery.</p>
<ol>
<li>Schrijf een query die alle invoices laat zien die een track bevatten van Iron Maiden.</li>
<li>Schrijf een query die alle invoices laat zien die verkocht werden door Margaret Park.</li>
<li>Schrijf een query die alle genres laat zien waarvoor er geen track bestaat.</li>
<li>Schrijf een query die alle invoices laat zien waarvan de prijs groter is dan het gemiddelde van alle invoices.</li>
<li>Schrijf een query die alle invoices laat zien waarin een Metallica track verkocht is, waarvan de prijs groter is dan het gemiddelde van alle invoices waarin een Metallica track verkocht is.</li>
</ol>

	</div>
</div>
<h3 id="data-manipulatie">Data manipulatie</h3>
<h4 id="insert">INSERT</h4>
<p>Met een <code>INSERT</code> Statement gaan we data toevoegen in de database. We gebruiken een column listing om aan te geven welke kolommen, in welke volgorde, we van een waarde kan voorzien. Kolommen die <code>NULL</code> values ondersteunen mogen uit de column listing gelaten worden.</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#00a8c8">INSERT</span> <span style="color:#00a8c8">INTO</span> <span style="color:#111">Genres</span><span style="color:#111">(</span><span style="color:#111">Name</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">VALUES</span><span style="color:#111">(</span><span style="color:#d88200">&#39;Rock&#39;</span><span style="color:#111">)</span>
</span></span></code></pre></div>
<div class="ex">
	<div class="inner">
    	<p>Voeg je favoriete album (inclusief artiest en tracks) toe aan de database.</p>

	</div>
</div>
<h4 id="update">UPDATE</h4>
<p>Met een <code>UPDATE</code> statement kunnen we één of meerdere waardes in een set van data aanpassen.</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#00a8c8">UPDATE</span> <span style="color:#111">Tracks</span> 
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">SET</span> <span style="color:#111">MediaTypeId</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">WHERE</span> <span style="color:#111">AlbumId</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span></code></pre></div>
<div class="ex">
	<div class="inner">
    	<p>Wijzig de UnitPrice en de Composer voor de 3e track van je toegevoegde album.<br/>
Wijzig de titel van je favoriete album (zie oefening hierboven).</p>

	</div>
</div>
<h4 id="delete">DELETE</h4>
<p>Hiermee kunnen we een set van data verwijderen.</p>
<p>LET OP! Een <code>DELETE</code> statement zonder <code>WHERE</code> clause verwijdert alles uit de tabel!</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#00a8c8">DELETE</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">Genre</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">WHERE</span> <span style="color:#111">Name</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#39;Rock&#39;</span>
</span></span></code></pre></div>
<div class="ex">
	<div class="inner">
    	<p>Verwijder het album (inclusief artiest en tracks) dat je hierboven hebt toegevoegd.</p>

	</div>
</div>
<p>Wat is volgens jou het verschil tussen <code>DELETE FROM</code> zonder <code>WHERE</code> en <code>DROP TABLE</code>?</p>

</article>

<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../sql-ddl-dml/ddl/" title="DDL"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../transacties/" title="RDBMS Transacties" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1745318507"></script>
    <script src="../../js/perfect-scrollbar.min.js?1745318507"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1745318507"></script>
    <script src="../../js/jquery.sticky.js?1745318507"></script>
    <script src="../../js/featherlight.min.js?1745318507"></script>
    <script src="../../js/modernizr.custom-3.6.0.js?1745318507"></script>
    <script src="../../js/learn.js?1745318507"></script>
    <script src="../../js/hugo-learn.js?1745318507"></script>
    <script src="../../js/mermaid.min.js?1745318507"></script>
    <script>
    window.MathJax = {
      chtml: {
        scale: 1,                      
        minScale: .5,                  
        matchFontHeight: true,         
        mtextInheritFont: false,       
        merrorInheritFont: true,       
        mathmlSpacing: false,          
        skipAttributes: {},            
        exFactor: .5,                  
        displayAlign: 'center',        
        displayIndent: '0'             
      }
    };
    </script>
    
    

  </body>
</html>

