<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.81.0" />
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>2. Key-value stores :: Databases</title>

    
    <link href="../../css/nucleus.css?1669372535" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1669372535" rel="stylesheet">
    <link href="../../css/hybrid.css?1669372535" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1669372535" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1669372535" rel="stylesheet">
    <link href="../../css/auto-complete.css?1669372535" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1669372535" rel="stylesheet">
    <link href="../../css/theme.css?1669372535" rel="stylesheet">
    <link href="../../css/devselector.css?1669372535" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1669372535" rel="stylesheet">
    <link href="../../css/theme-kul.css?1669372535" rel="stylesheet">
    

    <script src="../../js/jquery-3.3.1.min.js?1669372535"></script>
    <script src="../../js/devselector.js?1669372535"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="../../nosql/keyvaluestores/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
  <img src="../../images/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
  <img src="../../images/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1669372535"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1669372535"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/db-course\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1669372535"></script>

    
  </div>

    <div class="highlightable">

      <h3><a href="../../">Course Contents</a></h3>
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/sql/" title="1. RDBMS" class="dd-item
        
        
        
        ">
      <a href="../../sql/">
          1. RDBMS
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/sql/rdbms-basics/" title="1. Database Basics" class="dd-item ">
        <a href="../../sql/rdbms-basics/">
        1. Database Basics
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/sql/rdbms-components/" title="2. Database Componenten" class="dd-item ">
        <a href="../../sql/rdbms-components/">
        2. Database Componenten
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/sql/rdbms-acid/" title="3. ACID" class="dd-item ">
        <a href="../../sql/rdbms-acid/">
        3. ACID
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/sql-ddl-dml/" title="2. SQL DDL &amp; DML" class="dd-item
        
        
        
        ">
      <a href="../../sql-ddl-dml/">
          2. SQL DDL &amp; DML
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/sql-ddl-dml/ddl/" title="1. DDL" class="dd-item ">
        <a href="../../sql-ddl-dml/ddl/">
        1. DDL
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/sql-ddl-dml/dml/" title="2. DML" class="dd-item ">
        <a href="../../sql-ddl-dml/dml/">
        2. DML
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/transacties/" title="3. RDBMS Transacties" class="dd-item
        
        
        
        ">
      <a href="../../transacties/">
          3. RDBMS Transacties
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/transacties/basics/" title="1. Transaction Mgmt. Basics" class="dd-item ">
        <a href="../../transacties/basics/">
        1. Transaction Mgmt. Basics
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/transacties/concurrency-control/" title="2. Concurrency Control" class="dd-item ">
        <a href="../../transacties/concurrency-control/">
        2. Concurrency Control
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/transacties/failures-rollbacks/" title="3. Failures-Rollbacks" class="dd-item ">
        <a href="../../transacties/failures-rollbacks/">
        3. Failures-Rollbacks
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/transacties/concurrency-in-practice/" title="4. Concurrency in de Praktijk" class="dd-item ">
        <a href="../../transacties/concurrency-in-practice/">
        4. Concurrency in de Praktijk
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/apis/" title="4. Database APIs" class="dd-item
        
        
        
        ">
      <a href="../../apis/">
          4. Database APIs
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/apis/basics/" title="1. API Basics" class="dd-item ">
        <a href="../../apis/basics/">
        1. API Basics
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/apis/jdbc-jdbi/" title="2. JDBC en JDBI" class="dd-item ">
        <a href="../../apis/jdbc-jdbi/">
        2. JDBC en JDBI
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/apis/jpa/" title="3. JPA en Hibernate" class="dd-item ">
        <a href="../../apis/jpa/">
        3. JPA en Hibernate
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/apis/extra-oefeningen/" title="4. Extra Oefeningen" class="dd-item ">
        <a href="../../apis/extra-oefeningen/">
        4. Extra Oefeningen
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/nosql/" title="5. NoSQL" class="dd-item
        parent
        
        
        ">
      <a href="../../nosql/">
          5. NoSQL
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/nosql/basics/" title="1. NoSQL Basics" class="dd-item ">
        <a href="../../nosql/basics/">
        1. NoSQL Basics
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/nosql/keyvaluestores/" title="2. Key-value stores" class="dd-item active">
        <a href="../../nosql/keyvaluestores/">
        2. Key-value stores
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/nosql/documentstores/" title="3. Document stores" class="dd-item ">
        <a href="../../nosql/documentstores/">
        3. Document stores
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/nosql/mapreduce/" title="4. Advanced map-red. queries" class="dd-item ">
        <a href="../../nosql/mapreduce/">
        4. Advanced map-red. queries
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/nosql/replication/" title="5. Replication" class="dd-item ">
        <a href="../../nosql/replication/">
        5. Replication
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/xml/" title="6. XML Data Storage" class="dd-item
        
        
        
        ">
      <a href="../../xml/">
          6. XML Data Storage
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/bigdata/" title="7. Big Data &amp; Analytics" class="dd-item
        
        
        
        ">
      <a href="../../bigdata/">
          7. Big Data &amp; Analytics
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/bigdata/datawarehousing/" title="1. Data Warehousing &amp; BI" class="dd-item ">
        <a href="../../bigdata/datawarehousing/">
        1. Data Warehousing &amp; BI
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/bigdata/hadoop/" title="2. Big Data &amp; Hadoop" class="dd-item ">
        <a href="../../bigdata/hadoop/">
        2. Big Data &amp; Hadoop
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/extra/" title="X. Extras" class="dd-item
        
        
        
        ">
      <a href="../../extra/">
          X. Extras
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/extra/software/" title="Gebruikte Software" class="dd-item ">
        <a href="../../extra/software/">
        Gebruikte Software
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/project/" title="Project opdracht" class="dd-item ">
        <a href="../../extra/project/">
        Project opdracht
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://uhintra03.uhasselt.be/studiegidswww/opleidingsonderdeel.aspx?a=2022&amp;i=4290&amp;n=4&amp;t=01"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li>
                  <a class="padding" href="https://toledo.kuleuven.be/portal/"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
              <li>
                  <a class="padding" href="https://github.com/kuleuven-diepenbeek/db-course/"><i class='fab fa-github'></i> Course Git Repository</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Index</a> > <a href='../../nosql/'>5. NoSQL</a> > 2. Key-value stores
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#11-persistente-hashmaps">1.1 Persistente Hashmaps</a>
      <ul>
        <li><a href="#111-oefeningen">1.1.1 Oefeningen</a></li>
      </ul>
    </li>
    <li><a href="#12-distributed-hashmaps-memcached">1.2 Distributed Hashmaps: Memcached</a>
      <ul>
        <li><a href="#denkvragen">Denkvragen</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              2. Key-value stores
            </h1>
          

        


<h2 id="11-persistente-hashmaps">1.1 Persistente Hashmaps</h2>
<p>De eenvoudigst mogelijke noSQL database die gebruik maakt van key/values is een simpele <code>HashMap&lt;K,V&gt;</code> die je zelf serialiseert naar een flat file op de HDD. Een netwerk share kan dit bestand delen, maar locking systemen zullen moeten ingebouwd worden om te voorkomen dat dit bestand corrupt wordt.</p>
<p>De &ldquo;oude&rdquo; manier om dit te doen op de JVM is gebruik te maken van <code>FileOutputStream</code>:</p>
<div class="devselect">
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kt" data-lang="kt"><span style="color:#00a8c8">fun</span> <span style="color:#75af00">main</span><span style="color:#111">(</span><span style="color:#111">args</span><span style="color:#111">:</span> <span style="color:#111">Array</span><span style="color:#111">&lt;</span><span style="color:#111">String</span><span style="color:#111">&gt;)</span> <span style="color:#111">{</span>
      <span style="color:#00a8c8">val</span> <span style="color:#111">db</span> <span style="color:#111">=</span> <span style="color:#111">mapOf</span><span style="color:#111">(</span><span style="color:#d88200">&#34;Joske&#34;</span> <span style="color:#111">to</span> <span style="color:#111">Student</span><span style="color:#111">(</span><span style="color:#d88200">&#34;Joske&#34;</span><span style="color:#111">,</span> <span style="color:#ae81ff">11</span><span style="color:#111">))</span>

      <span style="color:#00a8c8">val</span> <span style="color:#111">file</span> <span style="color:#111">=</span> <span style="color:#111">File</span><span style="color:#111">(</span><span style="color:#d88200">&#34;database.db&#34;</span><span style="color:#111">)</span>
      <span style="color:#75715e">// handy function to auto-close streams: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html
</span><span style="color:#75715e"></span>      <span style="color:#111">ObjectOutputStream</span><span style="color:#111">(</span><span style="color:#111">FileOutputStream</span><span style="color:#111">(</span><span style="color:#00a8c8">file</span><span style="color:#111">)).</span><span style="color:#111">use</span> <span style="color:#111">{</span> 
            <span style="color:#00a8c8">it</span><span style="color:#111">.</span><span style="color:#111">writeObject</span><span style="color:#111">(</span><span style="color:#111">db</span><span style="color:#111">)</span>
      <span style="color:#111">}</span>
<span style="color:#111">}</span>
</code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">static</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">main</span><span style="color:#f92672">(</span><span style="color:#111">String</span><span style="color:#f92672">[]</span> <span style="color:#111">args</span><span style="color:#f92672">)</span> <span style="color:#00a8c8">throws</span> <span style="color:#111">IOException</span> <span style="color:#f92672">{</span>
    <span style="color:#111">var</span> <span style="color:#111">db</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">HashMap</span><span style="color:#f92672">&lt;</span><span style="color:#111">String</span><span style="color:#f92672">,</span> <span style="color:#111">Object</span><span style="color:#f92672">&gt;();</span>
    <span style="color:#111">db</span><span style="color:#f92672">.</span><span style="color:#75af00">put</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;joske&#34;</span><span style="color:#f92672">,</span> <span style="color:#00a8c8">new</span> <span style="color:#111">Student</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;Joske&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">11</span><span style="color:#f92672">));</span>

    <span style="color:#111">var</span> <span style="color:#111">file</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">File</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;database.db&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#111">var</span> <span style="color:#111">f</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">FileOutputStream</span><span style="color:#f92672">(</span><span style="color:#111">file</span><span style="color:#f92672">);</span>
    <span style="color:#111">var</span> <span style="color:#111">s</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">ObjectOutputStream</span><span style="color:#f92672">(</span><span style="color:#111">f</span><span style="color:#f92672">);</span>
    <span style="color:#111">s</span><span style="color:#f92672">.</span><span style="color:#75af00">writeObject</span><span style="color:#f92672">(</span><span style="color:#111">db</span><span style="color:#f92672">);</span>
    <span style="color:#111">s</span><span style="color:#f92672">.</span><span style="color:#75af00">close</span><span style="color:#f92672">();</span>
<span style="color:#f92672">}</span>
</code></pre></div></div>
<p>Inlezen werkt op dezelfde manier, met <code>FileInputStream</code> en <code>ObjectInputStream</code>. Hoe je <code>Student</code> klasse wordt geserialiseerd kan je <strong>zelf kiezen</strong>, maar een vereiste is dat je de interface <code>Serializable</code> implementeert!</p>
<p>Met bovenstaande interface kan je de student terug uitlezen:</p>
<div class="devselect">
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kt" data-lang="kt"><span style="color:#00a8c8">var</span> <span style="color:#111">fromFile</span><span style="color:#111">:</span> <span style="color:#111">Map</span><span style="color:#111">&lt;</span><span style="color:#111">String</span><span style="color:#111">,</span> <span style="color:#111">Student</span><span style="color:#111">&gt;</span>
<span style="color:#111">ObjectInputStream</span><span style="color:#111">(</span><span style="color:#111">FileInputStream</span><span style="color:#111">(</span><span style="color:#d88200">&#34;database.db&#34;</span><span style="color:#111">)).</span><span style="color:#111">use</span> <span style="color:#111">{</span>
  <span style="color:#111">fromFile</span> <span style="color:#111">=</span> <span style="color:#00a8c8">it</span><span style="color:#111">.</span><span style="color:#111">readObject</span><span style="color:#111">()</span> <span style="color:#00a8c8">as</span> <span style="color:#111">Map</span><span style="color:#111">&lt;</span><span style="color:#111">String</span><span style="color:#111">,</span> <span style="color:#111">Student</span><span style="color:#111">&gt;</span>
<span style="color:#111">}</span>
<span style="color:#00a8c8">val</span> <span style="color:#111">joske</span> <span style="color:#111">=</span> <span style="color:#111">fromFile</span><span style="color:#111">.</span><span style="color:#111">getValue</span><span style="color:#111">(</span><span style="color:#d88200">&#34;joske&#34;</span><span style="color:#111">)</span>
<span style="color:#111">println</span><span style="color:#111">(</span><span style="color:#111">joske</span><span style="color:#111">.</span><span style="color:#111">name</span><span style="color:#111">)</span>
</code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#111">var</span> <span style="color:#111">s</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">ObjectInputStream</span><span style="color:#f92672">(</span><span style="color:#00a8c8">new</span> <span style="color:#111">FileInputStream</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;database.db&#34;</span><span style="color:#f92672">))</span>
<span style="color:#111">Map</span><span style="color:#f92672">&lt;</span><span style="color:#111">String</span><span style="color:#f92672">,</span> <span style="color:#111">Object</span><span style="color:#f92672">&gt;</span> <span style="color:#111">map</span> <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#111">Map</span><span style="color:#f92672">&lt;</span><span style="color:#111">String</span><span style="color:#f92672">,</span> <span style="color:#111">Object</span><span style="color:#f92672">&gt;)</span> <span style="color:#111">s</span><span style="color:#f92672">.</span><span style="color:#75af00">readObject</span><span style="color:#f92672">();</span>
<span style="color:#111">s</span><span style="color:#f92672">.</span><span style="color:#75af00">close</span><span style="color:#f92672">();</span>
<span style="color:#111">Student</span> <span style="color:#111">joske</span> <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#111">Student</span><span style="color:#f92672">)</span> <span style="color:#111">map</span><span style="color:#f92672">.</span><span style="color:#75af00">get</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;joske&#34;</span><span style="color:#f92672">);</span>
<span style="color:#111">System</span><span style="color:#f92672">.</span><span style="color:#75af00">out</span><span style="color:#f92672">.</span><span style="color:#75af00">println</span><span style="color:#f92672">(</span><span style="color:#111">joske</span><span style="color:#f92672">.</span><span style="color:#75af00">getName</span><span style="color:#f92672">());</span>
</code></pre></div></div>
<h3 id="111-oefeningen">1.1.1 Oefeningen</h3>
<ol>
<li>Werk bovenstaand voorbeeld uit en persisteer een aantal studenten met de volgende klasse:</li>
</ol>
<div class="devselect">
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kt" data-lang="kt"><span style="color:#00a8c8">data</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">Student</span><span style="color:#111">(</span><span style="color:#00a8c8">val</span> <span style="color:#111">name</span><span style="color:#111">:</span> <span style="color:#111">String</span><span style="color:#111">,</span> <span style="color:#00a8c8">val</span> <span style="color:#111">age</span><span style="color:#111">:</span> <span style="color:#111">Int</span><span style="color:#111">)</span>
</code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">Student</span> <span style="color:#f92672">{</span>
      <span style="color:#00a8c8">private</span> <span style="color:#00a8c8">final</span> <span style="color:#111">String</span> <span style="color:#111">name</span><span style="color:#f92672">;</span>
      <span style="color:#00a8c8">private</span> <span style="color:#00a8c8">final</span> <span style="color:#00a8c8">int</span> <span style="color:#111">age</span><span style="color:#f92672">;</span>
      <span style="color:#00a8c8">public</span> <span style="color:#75af00">Student</span><span style="color:#f92672">(</span><span style="color:#111">String</span> <span style="color:#111">name</span><span style="color:#f92672">,</span> <span style="color:#00a8c8">int</span> <span style="color:#111">age</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#00a8c8">this</span><span style="color:#f92672">.</span><span style="color:#75af00">name</span> <span style="color:#f92672">=</span> <span style="color:#111">name</span><span style="color:#f92672">;</span>
            <span style="color:#00a8c8">this</span><span style="color:#f92672">.</span><span style="color:#75af00">age</span> <span style="color:#f92672">=</span> <span style="color:#111">age</span><span style="color:#f92672">;</span>
      <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div></div>
<h2 id="12-distributed-hashmaps-memcached">1.2 Distributed Hashmaps: Memcached</h2>
<p>We kunnen eenvoudig een verbinding maken met een (of meerdere) Memcached server via de Memcached Java client van <code>net.spy.spymemcached</code> (zie mvn repo: <a href="https://mvnrepository.com/artifact/net.spy/spymemcached">https://mvnrepository.com/artifact/net.spy/spymemcached</a>). Dit hoeft maar één regel code te zijn: (zie <a href="http://dustin.github.io/java-memcached-client/apidocs/net/spy/memcached/MemcachedClient.html">memcached javadocs</a>)</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#111">var</span> <span style="color:#111">client</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">MemcachedClient</span><span style="color:#f92672">(</span><span style="color:#00a8c8">new</span> <span style="color:#111">InetSocketAddress</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;127.0.0.1&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">11211</span><span style="color:#f92672">));</span>
<span style="color:#75715e">// bewaar een student onder key &#34;joskey&#34; voor één uur (3600s)
</span><span style="color:#75715e"></span><span style="color:#111">client</span><span style="color:#f92672">.</span><span style="color:#75af00">set</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;joskey&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">3600</span><span style="color:#f92672">,</span> <span style="color:#00a8c8">new</span> <span style="color:#111">Student</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;Jos&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">20</span><span style="color:#f92672">));</span>
<span style="color:#75715e">// retrieve object
</span><span style="color:#75715e"></span><span style="color:#111">var</span> <span style="color:#111">restoredStudent</span> <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#111">Student</span><span style="color:#f92672">)</span> <span style="color:#111">client</span><span style="color:#f92672">.</span><span style="color:#75af00">get</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;Jos&#34;</span><span style="color:#f92672">);</span>
</code></pre></div><p>De client code vereist een werkende memcached server zoals <a href="https://www.memcached.org">https://www.memcached.org</a>, in bovenstaand voorbeeld draaiend op poort <code>11211</code>. Je kan dit zelf compileren onder UNIX of Msys in Windows. We gaan voor de oefeningen hier niet verder op in.</p>
<h3 id="denkvragen">Denkvragen</h3>
<ol>
<li>Welke beperkingen zijn er verbonden aan het geserialiseerd database bestand doorgeven aan andere medestudenten? Op welke manier kan je zo verschillende &lsquo;clients&rsquo; verbinden aan één database &lsquo;server&rsquo;?</li>
</ol>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../nosql/basics/" title="1. NoSQL Basics"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../nosql/documentstores/" title="3. Document stores" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1669372535"></script>
    <script src="../../js/perfect-scrollbar.min.js?1669372535"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1669372535"></script>
    <script src="../../js/jquery.sticky.js?1669372535"></script>
    <script src="../../js/featherlight.min.js?1669372535"></script>
    <script src="../../js/modernizr.custom-3.6.0.js?1669372535"></script>
    <script src="../../js/learn.js?1669372535"></script>
    <script src="../../js/hugo-learn.js?1669372535"></script>
    <script src="../../js/mermaid.min.js?1669372535"></script>
    <script>
    window.MathJax = {
      chtml: {
        scale: 2,                      
        minScale: .5,                  
        matchFontHeight: true,         
        mtextInheritFont: false,       
        merrorInheritFont: true,       
        mathmlSpacing: false,          
        skipAttributes: {},            
        exFactor: .5,                  
        displayAlign: 'center',        
        displayIndent: '0'             
      }
    };
    </script>
    
    

  </body>
</html>

